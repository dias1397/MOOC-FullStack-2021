{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","search","onChange","value","PersonForm","newName","onChangeName","newNumber","onChangeNumber","onSubmit","type","baseUrl","axios","get","then","response","data","newPerson","post","id","put","delete","Person","person","persons","setPersons","setMessage","setIsError","name","number","onClick","window","confirm","personService","deletedPerson","filter","p","setTimeout","catch","err","Persons","map","Notification","message","isError","className","App","useState","setNewName","setNewNumber","searchName","setSearchName","useEffect","personsToShow","toLowerCase","includes","event","target","preventDefault","existingPerson","find","updatedPerson","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bd09ceea.chunk.js","sourcesContent":["const Filter = ({ search, onChange }) => {\n    return (\n        <div>\n            Filter shown with <input value={search} onChange={onChange} />\n        </div>\n    )\n}\n\nexport default Filter;\n","const PersonForm = ({ newName, onChangeName, newNumber, onChangeNumber, onSubmit }) => {\n    return (\n        <form onSubmit={onSubmit}>\n            <div>\n                Name: <input value={newName} onChange={onChangeName} />\n            </div>\n            <div>\n                Number: <input type=\"number\" value={newNumber} onChange={onChangeNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">ADD</button>\n            </div>\n        </form>\n    )\n\n}\n export default PersonForm;\n","import axios from 'axios';\n\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newPerson) => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove };\n","import personService from '../services/persons' \n\nconst Person = ({ person, persons, setPersons, setMessage, setIsError }) => {\n    const delPerson = () => {\n       if (window.confirm(`Delete ${person.name}?`)) {\n           personService\n                .remove(person.id)\n                .then(deletedPerson => {\n                    setPersons(persons.filter(p => p.id !== person.id));\n                    setMessage(`Deleted ${person.name}`);\n                    setIsError(false);\n                    setTimeout(() => {\n                        setMessage(null)\n                    }, 5000)\n                })\n                .catch(err => {\n                    setPersons(persons.filter(p => p.id !== person.id))\n                    setMessage(`Information of ${person.name} has already been removed from the server`);\n                    setIsError(true);\n                    setTimeout(() => {\n                        setMessage(null)\n                    }, 5000)\n                })\n       }\n    }\n\n    return <p> {person.name} - {person.number} <button onClick={() => delPerson()}>Delete</button> </p>\n}\n\nexport default Person;\n","import Person from './Person'\n\nconst Persons = ({ persons, setPersons, setMessage, setIsError }) => {\n    return (\n        persons.map(person => \n            <Person key={person.id} \n                person={person} \n                persons={persons} \n                setPersons={setPersons} \n                setMessage={setMessage} \n                setIsError={setIsError} />\n        )\n    )\n}\n\nexport default Persons;\n","const Notification = ({ message, isError }) => {\n    if (message === null) {\n        return null\n    }\n\n    if (isError) {\n        return (\n            <div className=\"error\">\n                {message}\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"success\">\n                {message}\n            </div>\n        )\n    }\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react'\nimport './index.css'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n    const [ persons, setPersons ] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ searchName, setSearchName ] = useState('')\n    const [ message, setMessage ] = useState(null);\n    const [ isError, setIsError ] = useState(false); \n\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(persons => {\n                setPersons(persons)\n            })\n    }, [])\n\n    const addPerson = (event) => {\n        event.preventDefault();\n\n        const person = {\n            name: newName,\n            number: newNumber\n        };\n\n        const existingPerson = persons.find(p => p.name === person.name);\n\n        if (existingPerson) {\n            if (window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`)) {\n                personService\n                    .update(existingPerson.id, person)\n                    .then(updatedPerson => {\n                        setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson));\n                        setNewName(\"\");\n                        setNewNumber(\"\");\n                        setMessage(`Updated ${updatedPerson.name}`);\n                        setIsError(false);\n                        setTimeout(() => {\n                            setMessage(null)\n                        }, 5000)\n                    })\n                    .catch(error => {\n                        setMessage(`Unable to update ${existingPerson.name}`);\n                        setIsError(true);\n                        setTimeout(() => {\n                            setMessage(null)\n                        }, 5000)\n                    })\n            }\n        } else {\n            personService\n                .create(person)\n                .then(newPerson => {\n                    setPersons(persons.concat(newPerson))\n                    setNewName(\"\");\n                    setNewNumber(\"\");\n                    setMessage(`Added ${newPerson.name}`);\n                    setIsError(false);\n                    setTimeout(() => {\n                        setMessage(null)\n                    }, 5000)\n                })\n                .catch(error => {\n                    setMessage(`Unable to update ${person.name}`);\n                    setIsError(true);\n                    setTimeout(() => {\n                        setMessage(null)\n                    }, 5000)\n                })\n        }\n    }\n\n    const handleSearchChange = (event) => {\n        setSearchName(event.target.value);\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value);\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value);\n    }\n    \n    const personsToShow = persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()));\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={message} isError={isError}/>\n            <Filter search={searchName} onChange={handleSearchChange}/>\n\n            <br/>\n            <hr/>\n\n            <h3>New Number</h3>\n            <PersonForm \n                newName = {newName}\n                onChangeName = {handleNameChange}\n                newNumber = {newNumber}\n                onChangeNumber = {handleNumberChange}\n                onSubmit = {addPerson}\n            />\n\n            <br/>\n            <hr/>\n\n            <h3>Numbers</h3>\n            <Persons persons={personsToShow} setPersons={setPersons} setMessage={setMessage} setIsError={setIsError} />\n        </div>\n    )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}